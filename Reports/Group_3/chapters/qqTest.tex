\subsubsection{Queue and query test}
In the \code{server} package there is a total of 10 classes which has been subjected to testing: 

\begin{table}[H]
  \begin{center}
  \begin{tabular}{c|c|c}
    Class          & JUnit test cases & System test\\
\hline
    Event          & -                &Yes\\
    CommitEvent    & 5                &Yes\\
    RequestEvent   & -                &Yes\\
    EventHandler   & -                &Yes\\
    EventQueue     & 5                &Yes\\
    QueryBuilder   & 20               &Yes\\
    QueryHandler   & -                &Yes\\
    RequestHandler & -                &Yes\\
    CommitHandler  & -                &Yes\\
    XMLBuilder     & -                &Yes\\
  \end{tabular}
  \end{center}
\end{table}

Unit testing was not found suitable for classes all due the interdependency of other classes in the project. As en example testing the \code{XMLBuilder} with a unit test would require
a \code{ResultSet} object,the easists way to build this is to get it from the \code{QueryHandler}, which in turn require well formed SQL queries from the \code{QueryBuilder}.
It was decided that it would be most efficient to test many of the classes during a system test. JUnit has been used to test the building of SQL queries, singleton implementation,
and that the queue is in fact Fifo. 

The code in \autoref{code:testCase} shows a JUnit test case for \code{QueryBuilder}. It checks that the \code{QueryBuilder} properly creates an SQL query for inserting an integer value
in the \code{Media} table. Similiar test cases for exists for string values and for SQL queries that update and delete attributes in tables.
Due to the implementation of \code{Querybuilder} we can cover all values and SQL query types with 9 unit tests. The remaining 11 test cases are for request queries.

\begin{Code}
\begin{lstlisting}[label=code:testCase,language=java,caption=A JUnit test case]
public void testCreateIntValue() throws Exception
{
  String xml = "<sw6ml><Media><Entry action=\"create\">" +
               "<idMedia type=\"int\">1</idMedia>" +
		"</Entry>" +
		"</Media></sw6ml>";
  doc = dom.Dominate(xml);
  ArrayList<String> one = qbuilder.buildQueries(doc);
  assertEquals("INSERT INTO Media values(1);", one.get(0) );	
}
\end{lstlisting}
\end{Code}

